# Taller Individual  3
## Reactive Stream

**Semana**: 9

**Objetivos**:

- Aplicar los conocimientos sobre Reactive Stream.
- Generar y procesar flujos de datos reactivos.



### Descripci贸n:

Resuelva los siguientes problemas.

### Problema 1
**Sincronizaci贸n de Sensores**

Descripci贸n: Simula dos sensores que emiten valores peri贸dicos:

- Sensor1: Rango [20掳C, 30掳C], cada 1 segundo.
- Sensor2: Rango [30掳C, 40掳C], cada 1.5 segundos.
- Usa zip para combinar los valores de ambos sensores en un solo flujo.
- Det茅n el flujo despu茅s de 10 pares de valores.
- Genera una alerta si la diferencia absoluta entre las lecturas de Sensor1 y Sensor2 es mayor a 5掳C.
  

mathematica
```scala
import rx.lang.scala.Observable
import scala.util.Random
import scala.concurrent.duration._

object Problema1 extends App{

  // 1. Defino primero los esnores
  // Sensor 1: Rango 20-30, cada 1s
  val sensor1 = Observable.interval(1.second).map(_ => Random.between(20, 31))

  // Sensor 2: Rango 30-40, cada 1.5s
  val sensor2 = Observable.interval(1500.millis).map(_ => Random.between(30, 41))

  // Aqu铆 definimos QU hacer con los datos y retornamos el mensaje listo
  val flujoSincronizado = sensor1.zipWith(sensor2) { (t1, t2) =>
    val diff = Math.abs(t1 - t2)
    val mensaje = s"Sensor1: $t1掳C, Sensor2: $t2掳C, Difference: $diff掳C"

    // Agregamos la alerta al texto si corresponde
    if (diff > 5) s"$mensaje ->  ALERT! Significant difference detected"
    else mensaje
  }

  // 3. Suscripci贸n limpia
  flujoSincronizado
    .take(10) // Detener tras 10 pares
    .subscribe(println(msg))
  // Espera suficiente para este problema (10 items * 1.5s = 15s aprox)
  Thread.sleep(16000)
}
```
### Problema 2
**Sistema de Alerta Complejo**

Descripci贸n: Simula tres sensores que emiten datos peri贸dicos:

- Sensor1: Temperatura (20掳C a 30掳C).
- Sensor2: Humedad (40% a 60%).
- Sensor3: Presi贸n (950 hPa a 1050 hPa).
- Combina los datos de los tres sensores y detecta si alguna de las m茅tricas est谩 fuera de rango.
- Det茅n el flujo despu茅s de 20 combinaciones.

```Scala
import rx.lang.scala.Observable

import scala.util.Random
import scala.concurrent.duration.*

object Problema2 extends App {
  val random = new Random()

  // 1. Un solo flujo que genera los 3 datos juntos
  val sensores = Observable.interval(100.millis).map(_ => (
    15 + random.nextInt(21),  // Temp
    30 + random.nextInt(41),  // Hum
    940 + random.nextInt(121) // Pres
  ))

  // 2. Suscripci贸n directa
  sensores.take(20).subscribe { case (t, h, p) =>

    // Imprimir datos
    print(s"Temp: $t掳C, Hum: $h%, Pres: $p hPa")

    // Detectar alertas (en una sola l铆nea cada uno para ahorrar espacio)
    if (t < 20 || t > 30) print(s"  ALERT! Temp: $t")
    if (h < 40 || h > 60) print(s"  ALERT! Hum: $h")
    if (p < 950 || p > 1050) print(s"  ALERT! Pres: $p")

    println()
  }

  Thread.sleep(3000)
}
```

### Calificaci贸n:

Para la calificaci贸n, se debe presentar el trabajo realizado a su tutor. Es necesario recalcar que la presentaci贸n se hace una 煤nica vez, no existe la posibilidad de presentaciones adicionales con correcciones.

- 10 puntos si presenta en el horario de pr谩cticas y experimentaci贸n.
- 7 puntos presenta en el horario de tutor铆a

La hora m谩xima de presentaci贸n ser谩 las 16h30
